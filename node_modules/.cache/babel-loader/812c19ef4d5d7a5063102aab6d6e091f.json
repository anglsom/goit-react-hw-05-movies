{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/goit-react-hw-05-movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Outlet,useLocation,useParams}from'react-router-dom';import*as API from'../service/api';import Card from'components/Card';import MyInfo from'components/MyInfo';import Button from'components/Button';import Notiflix from'notiflix';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Details(){var _location$state;var _useParams=useParams(),movieId=_useParams.movieId;var location=useLocation();var backLocation=location===null||location===void 0?void 0:(_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.backLocation;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];useEffect(function(){API.getMovieDetails(movieId).then(function(response){var poster_path=response.poster_path,title=response.title,name=response.name,vote_average=response.vote_average,overview=response.overview,genres=response.genres,backdrop_path=response.backdrop_path,release_date=response.release_date;var movieDetails={img:poster_path!==null&&poster_path!==void 0?poster_path:backdrop_path,title:title!==null&&title!==void 0?title:name,vote_average:vote_average,overview:overview,genres:genres,release_date:release_date};setMovie(movieDetails);}).catch(function(error){Notiflix.Notify.warning('Sorry, there are no details about this film');});},[movieId]);return/*#__PURE__*/_jsx(_Fragment,{children:movie?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{backLocation:backLocation}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{data:movie}),/*#__PURE__*/_jsx(MyInfo,{backLocation:backLocation})]}),/*#__PURE__*/_jsx(Outlet,{})]}):/*#__PURE__*/_jsx(Button,{backLocation:backLocation})});}","map":{"version":3,"sources":["/Users/mac/Desktop/goit-react-hw-05-movies/src/page/Details.js"],"names":["useState","useEffect","Outlet","useLocation","useParams","API","Card","MyInfo","Button","Notiflix","Details","movieId","location","backLocation","state","movie","setMovie","getMovieDetails","then","response","poster_path","title","name","vote_average","overview","genres","backdrop_path","release_date","movieDetails","img","catch","error","Notify","warning"],"mappings":"gIAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,SAA9B,KAA+C,kBAA/C,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,gBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,C,6IAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,qBAChC,eAAoBN,SAAS,EAA7B,CAAQO,OAAR,YAAQA,OAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,YAAY,CAAGD,QAAH,SAAGA,QAAH,kCAAGA,QAAQ,CAAEE,KAAb,0CAAG,gBAAiBD,YAAtC,CAEA,cAA0Bb,QAAQ,CAAC,IAAD,CAAlC,wCAAOe,KAAP,eAAcC,QAAd,eAEAf,SAAS,CAAC,UAAM,CACdI,GAAG,CAACY,eAAJ,CAAoBN,OAApB,EACGO,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChB,GACEC,CAAAA,WADF,CASID,QATJ,CACEC,WADF,CAEEC,KAFF,CASIF,QATJ,CAEEE,KAFF,CAGEC,IAHF,CASIH,QATJ,CAGEG,IAHF,CAIEC,YAJF,CASIJ,QATJ,CAIEI,YAJF,CAKEC,QALF,CASIL,QATJ,CAKEK,QALF,CAMEC,MANF,CASIN,QATJ,CAMEM,MANF,CAOEC,aAPF,CASIP,QATJ,CAOEO,aAPF,CAQEC,YARF,CASIR,QATJ,CAQEQ,YARF,CAWA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,GAAG,CAAET,WAAF,SAAEA,WAAF,UAAEA,WAAF,CAAiBM,aADD,CAEnBL,KAAK,CAAEA,KAAF,SAAEA,KAAF,UAAEA,KAAF,CAAWC,IAFG,CAGnBC,YAAY,CAAZA,YAHmB,CAInBC,QAAQ,CAARA,QAJmB,CAKnBC,MAAM,CAANA,MALmB,CAMnBE,YAAY,CAAZA,YANmB,CAArB,CASAX,QAAQ,CAACY,YAAD,CAAR,CACD,CAvBH,EAwBGE,KAxBH,CAwBS,SAAAC,KAAK,CAAI,CACdtB,QAAQ,CAACuB,MAAT,CAAgBC,OAAhB,CAAwB,6CAAxB,EACD,CA1BH,EA2BD,CA5BQ,CA4BN,CAACtB,OAAD,CA5BM,CAAT,CA8BA,mBACE,yBACGI,KAAK,cACJ,wCACE,KAAC,MAAD,EAAQ,YAAY,CAAEF,YAAtB,EADF,cAGE,oCACE,KAAC,IAAD,EAAM,IAAI,CAAEE,KAAZ,EADF,cAEE,KAAC,MAAD,EAAQ,YAAY,CAAEF,YAAtB,EAFF,GAHF,cAQE,KAAC,MAAD,IARF,GADI,cAYJ,KAAC,MAAD,EAAQ,YAAY,CAAEA,YAAtB,EAbJ,EADF,CAkBD","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Outlet, useLocation, useParams } from 'react-router-dom';\nimport * as API from '../service/api';\nimport Card from 'components/Card';\nimport MyInfo from 'components/MyInfo';\nimport Button from 'components/Button';\nimport Notiflix from 'notiflix';\n\nexport default function Details() {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLocation = location?.state?.backLocation;\n\n  const [movie, setMovie] = useState(null);\n\n  useEffect(() => {\n    API.getMovieDetails(movieId)\n      .then(response => {\n        const {\n          poster_path,\n          title,\n          name,\n          vote_average,\n          overview,\n          genres,\n          backdrop_path,\n          release_date,\n        } = response;\n\n        const movieDetails = {\n          img: poster_path ?? backdrop_path,\n          title: title ?? name,\n          vote_average,\n          overview,\n          genres,\n          release_date,\n        };\n\n        setMovie(movieDetails);\n      })\n      .catch(error => {\n        Notiflix.Notify.warning('Sorry, there are no details about this film');\n      });\n  }, [movieId]);\n\n  return (\n    <>\n      {movie ? (\n        <>\n          <Button backLocation={backLocation} />\n\n          <div>\n            <Card data={movie} />\n            <MyInfo backLocation={backLocation} />\n          </div>\n\n          <Outlet />\n        </>\n      ) : (\n        <Button backLocation={backLocation} />\n      )}\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}