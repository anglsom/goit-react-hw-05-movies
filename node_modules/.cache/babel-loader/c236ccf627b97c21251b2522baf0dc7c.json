{"ast":null,"code":"import _slicedToArray from\"/Users/mac/Desktop/goit-react-hw-05-movies/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Outlet}from'react-router-dom';import Search from'components/Search';import*as API from'../service/api';import Film from'components/Film';import{useSearchParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Movies(){var _searchParams$get;var _useSearchParams=useSearchParams({}),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var query=(_searchParams$get=searchParams.get('query'))!==null&&_searchParams$get!==void 0?_searchParams$get:'';var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];useEffect(function(){if(query===''){return;}API.getMovieByQuery(query).then(function(_ref){var results=_ref.results;var moviesArr=results.map(function(_ref2){var id=_ref2.id,original_title=_ref2.original_title,poster_path=_ref2.poster_path,backdrop_path=_ref2.backdrop_path,vote_average=_ref2.vote_average;return{id:id,title:original_title,img:poster_path!==null&&poster_path!==void 0?poster_path:backdrop_path,vote_average:vote_average};});setMovies(moviesArr);});},[query]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Search,{}),movies&&/*#__PURE__*/_jsx(Film,{movies:movies}),/*#__PURE__*/_jsx(Outlet,{})]});}","map":{"version":3,"sources":["/Users/mac/Desktop/goit-react-hw-05-movies/src/page/Movies.js"],"names":["useState","useEffect","Outlet","Search","API","Film","useSearchParams","Movies","searchParams","query","get","movies","setMovies","getMovieByQuery","then","results","moviesArr","map","id","original_title","poster_path","backdrop_path","vote_average","title","img"],"mappings":"gIAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,MAAT,KAAuB,kBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,gBAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CAEA,OAASC,eAAT,KAAgC,kBAAhC,C,6IAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,uBAC/B,qBAAqBD,eAAe,CAAC,EAAD,CAApC,sDAAKE,YAAL,sBACA,GAAMC,CAAAA,KAAK,oBAAGD,YAAY,CAACE,GAAb,CAAiB,OAAjB,CAAH,uDAAgC,EAA3C,CAEA,cAA4BV,QAAQ,CAAC,EAAD,CAApC,wCAAOW,MAAP,eAAeC,SAAf,eAEAX,SAAS,CAAC,UAAM,CACd,GAAIQ,KAAK,GAAK,EAAd,CAAkB,CAChB,OACD,CACDL,GAAG,CAACS,eAAJ,CAAoBJ,KAApB,EAA2BK,IAA3B,CAAgC,cAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CAC/C,GAAMC,CAAAA,SAAS,CAAGD,OAAO,CAACE,GAAR,CAChB,mBAAGC,CAAAA,EAAH,OAAGA,EAAH,CAAOC,cAAP,OAAOA,cAAP,CAAuBC,WAAvB,OAAuBA,WAAvB,CAAoCC,aAApC,OAAoCA,aAApC,CAAmDC,YAAnD,OAAmDA,YAAnD,OAAuE,CACrEJ,EAAE,CAAFA,EADqE,CAErEK,KAAK,CAAEJ,cAF8D,CAGrEK,GAAG,CAAEJ,WAAF,SAAEA,WAAF,UAAEA,WAAF,CAAiBC,aAHiD,CAIrEC,YAAY,CAAZA,YAJqE,CAAvE,EADgB,CAAlB,CAQAV,SAAS,CAACI,SAAD,CAAT,CACD,CAVD,EAWD,CAfQ,CAeN,CAACP,KAAD,CAfM,CAAT,CAiBA,mBACE,wCACE,KAAC,MAAD,IADF,CAEGE,MAAM,eAAI,KAAC,IAAD,EAAM,MAAM,CAAEA,MAAd,EAFb,cAIE,KAAC,MAAD,IAJF,GADF,CAQD","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Outlet } from 'react-router-dom';\nimport Search from 'components/Search';\nimport * as API from '../service/api';\nimport Film from 'components/Film';\n\nimport { useSearchParams } from 'react-router-dom';\n\nexport default function Movies() {\n  let [searchParams] = useSearchParams({});\n  const query = searchParams.get('query') ?? '';\n\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    API.getMovieByQuery(query).then(({ results }) => {\n      const moviesArr = results.map(\n        ({ id, original_title, poster_path, backdrop_path, vote_average }) => ({\n          id,\n          title: original_title,\n          img: poster_path ?? backdrop_path,\n          vote_average,\n        })\n      );\n      setMovies(moviesArr);\n    });\n  }, [query]);\n\n  return (\n    <>\n      <Search />\n      {movies && <Film movies={movies} />}\n\n      <Outlet />\n    </>\n  );\n}"]},"metadata":{},"sourceType":"module"}